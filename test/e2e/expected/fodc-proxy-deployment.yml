apiVersion: apps/v1
kind: Deployment
metadata:
  name: banyandb-fodc-test-fodc-proxy
  labels:
    app.kubernetes.io/name: banyandb
    app.kubernetes.io/instance: banyandb-fodc-test
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/component: fodc-proxy
    helm.sh/chart: skywalking-banyandb-helm-0.5.3
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: banyandb
      app.kubernetes.io/instance: banyandb-fodc-test
      app.kubernetes.io/component: fodc-proxy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
      maxSurge: 1
  template:
    metadata:
      labels:
        app.kubernetes.io/name: banyandb
        app.kubernetes.io/instance: banyandb-fodc-test
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/component: fodc-proxy
        helm.sh/chart: skywalking-banyandb-helm-0.5.3
    spec:
      serviceAccountName: banyandb-fodc-test-banyandb
      containers:
        - name: fodc-proxy
          image: apache/skywalking-banyandb-fodc-proxy:latest
          ports:
            - containerPort: 17904
              name: grpc
            - containerPort: 17905
              name: http